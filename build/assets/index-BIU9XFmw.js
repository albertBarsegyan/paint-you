import{r as j,j as e}from"./index-CyKPuI_L.js";import{c as N,u as b}from"./canvas-Bv63vBbW.js";import"./react-vendors-DJG_os-6.js";const C=({canvas:r,fileType:n})=>{const s=document.createElement("a");if(n==="svg"){const l=N(r);if(!l)return;const i=new Blob([l],{type:"image/svg+xml"});s.href=URL.createObjectURL(i),s.download="drawing.svg"}else{const l=n==="jpg"?.95:1;s.href=r.toDataURL(`image/${n}`,l),s.download=`drawing.${n}`}s.click()},f="_wrapper_ia9dc_1",w="_brushSizeValue_ia9dc_12",z="_button_ia9dc_17",E="_label_ia9dc_36",I="_inputColor_ia9dc_46",V="_colorBlock_ia9dc_54 _inputColor_ia9dc_46",k="_brushSizeLabel_ia9dc_59",D="_brushSize_ia9dc_12",L="_buttonWrapper_ia9dc_72",y="_fileTypeDropdown_ia9dc_80",a={wrapper:f,brushSizeValue:w,button:z,label:E,inputColor:I,colorBlock:V,brushSizeLabel:k,brushSize:D,buttonWrapper:L,fileTypeDropdown:y},o={MIN_SIZE:0,MAX_SIZE:1e3},B=r=>{const n=String(r).trim();if(n===""||!/^-?\d*\.?\d+$/.test(n))return null;const s=Number(n);return s>=o.MAX_SIZE?o.MAX_SIZE:s<=o.MIN_SIZE?o.MIN_SIZE:s},T="png";function W(){const{state:{width:r,height:n},changeSizes:s}=b(),[l,i]=j.useState(T),{setColor:_,canvasRef:c,state:{brushColor:m,brushSize:u},setSize:g,clearCanvas:v}=b(),x=()=>{if(!c.current)return;const t=c.current;C({canvas:t,fileType:l})},d=t=>S=>{const p=S.target.value,h=B(p);h!==null?s({[t]:h}):p===""&&s({[t]:0})};return e.jsxs("div",{className:a.wrapper,children:[e.jsxs("div",{children:[e.jsxs("label",{className:a.label,children:["Width (px):",e.jsx("input",{className:a.inputColor,value:r,pattern:"[0-9]*",onChange:d("width")})]}),e.jsxs("label",{className:a.label,children:["Height (px):",e.jsx("input",{className:a.inputColor,value:n,pattern:"[0-9]*",onChange:d("height")})]})]}),e.jsxs("label",{className:a.label,children:["Color:",e.jsx("input",{type:"color",value:m,className:a.colorBlock,onChange:t=>_(t.target.value)})]}),e.jsxs("label",{className:a.brushSizeLabel,children:["Brush Size:",e.jsxs("div",{className:a.brushSize,children:[e.jsx("input",{type:"range",min:"1",max:"50",value:u,onChange:t=>g(Number(t.target.value))}),e.jsxs("span",{className:a.brushSizeValue,children:[u,"PX"]})]})]}),e.jsxs("div",{className:a.buttonWrapper,children:[e.jsx("div",{children:e.jsx("div",{className:a.fileTypeSelector,children:e.jsxs("select",{value:l,onChange:t=>i(t.target.value),className:a.fileTypeDropdown,children:[e.jsx("option",{value:"png",children:"PNG"}),e.jsx("option",{value:"jpg",children:"JPG"}),e.jsx("option",{value:"svg",children:"SVG"})]})})}),e.jsx("button",{className:a.button,onClick:x,children:"Download"})]}),e.jsx("button",{className:a.button,onClick:v,children:"Clear Canvas"})]})}export{W as default};
